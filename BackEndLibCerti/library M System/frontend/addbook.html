<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>add book</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        async function addBook(event) {
            event.preventDefault();
            const bookid = document.getElementById("bid").value
            const bookname = document.getElementById("bname").value
            const authname = document.getElementById("aname").value
            const description = document.getElementById("message").value
            
            // const userRole = document.getElementById("UserRole").value
            console.log(bookid,bookname,authname,description)
    
            const response = await fetch("http://127.0.0.1:8000/addbook",{
                method:"POST",
                credentials:"include",
                headers:{
                    "Content-Type":"application/json"
    
                    
                },
                body:JSON.stringify({
                    BookId:bookid,
                    BookName:bookname,
                    Author:authname,
                    Description:description,
                })
                
                
            })
            console.log(response.status);
            if(response.status == 200){
              alert("book added")
              window.location.href="./home.html"
            }else if(response.status==400){
                alert("book  alredy added")
                
    
            }
            else{
                alert("Server Error..,try after sometimes")
            }
    
    
        }
    </script>
</head>

<body style="background-image: url(Libimages/Hp!.jpg);">
    <div>
        <nav class="flex justify-between p-5 bg-neutral-900	 shadow-xl shadow-gray-500	">
                <img src="Libimages/logolib.png" class="w-[100px] h-[100px]">
            <ul class="flex p-5 text-xl font-bold text-white ">
                <li><a href="Home.html" class="p-5 hover:text-red-900">HOME</a></li>
                <li> <a href="Viewbook.html"class="p-5 hover:text-red-900">VIEW BOOK</a></li>
                <li><a href="Addbook.html"class="p-5 hover:text-red-900">ADD BOOK</a></li>
                <li><a href="signup.html"class="p-5 hover:text-red-900">SIGN UP</a></li>
                <li><a href="login.html"class="p-5 hover:text-red-900">LOGIN</a></li>

            </ul>
        </nav>
    </div>

<div class="flex justify-center p-8 opacity-80">
    <div class="bg-red-900 w-[500px] h-[700px] flex justify-center p-5 rounded-2xl">
        <form action="">

            <div class="p-5">
                <h2 class="text-2xl font-bold text-center text-white">Add Book</h2>

                <p class="text-xl text-white">Book Name :</p>

                <input type="text" required class="rounded-2xl  w-[350px]" id="bname">
            </div>
            <div class="p-5">
                <p class="text-xl text-white">Book Id :</p>

                <input type="text" required class="rounded-2xl  w-[350px]" id="bid">
          

            </div>

                <div class="p-5">
                    <P class="text-xl text-white">Author Name :</P>

                    <input type="text" required class="rounded-2xl  w-[350px]" id="aname">
                </div>
                <!-- <div class="p-5">
                    <P class="text-xl text-white">Choose Book :</P>

                    <input type="file" required>
                </div> -->
                <div>
                    <P class="text-xl text-white">Description :</P>
                   <textarea class=" w-[350px] h-[150px] rounded-2xl" id="message"></textarea>

                </div>
            <button class="w-[120px] h-[30px]  text-xl bg-red-600 rounded-2xl mt-5" onclick="addBook(event)">AddBook</button>

            </div>

    </div>
    </form>
</div>

</body>

</html>